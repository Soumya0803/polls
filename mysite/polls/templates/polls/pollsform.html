<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">

</head>

<body>
    <form action="" method="post">
        {% csrf_token %}
        {{ form.as_p }}

        {{ choiceformset.as_p }}
        <input type="submit" value="Submit">
    </form>
    <script>
        window.onload = function () {
            l=document.getElementsByTagName('label')
            // console.log(l);
            for (let i = 4; i < 11; i++) {
               l[i].style.display = 'none';
            }

            
            for (let i = 3; i < 10; i++) {
                var ch = 'id_choice_set-' + i + '-choice_text';
                choice = document.getElementById(ch);
                
               
                choice.style.display = 'none';


            }

            for (let i = 2; i < 9; i++) { 
                var index = i + 1;
                var ch2 = 'id_choice_set-' + i + '-choice_text';
                //console.log(ch2);
                if(ch2){
                document.getElementById(ch2).addEventListener('focus', add_choice.bind(null,event,index));
                }
            }

        }

        function add_choice(event, index) {
           // console.log(index);
            ch3 = 'id_choice_set-' + index + '-choice_text';
            var choice_id = document.getElementById(ch3);
            choice_id.style.display = 'inline';
            l=document.getElementsByTagName('label')
            l[++index].style.display = 'inline';
            

        } 
    </script>
</body>

</html>